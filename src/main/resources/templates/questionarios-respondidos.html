<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Quizisso - Questionários Respondidos</title>
  <th:block th:replace="~{fragments/cabecalho :: head}"></th:block>
</head>

<body>
  <th:block th:replace="~{fragments/cabecalho :: cabecalho}"></th:block>

  <main class="conteudo-principal">
    <div class="cabecalho-secao">
      <h2>Questionários Respondidos</h2>
    </div>

    <div class="grade-questionarios">
      <!-- Loop através dos questionários respondidos -->
      <div class="card-questionario" th:each="resultado : ${resultados}"
        th:onclick="'window.location.href=\'/visualizar-resultado?id=' + ${resultado.id} + '\''">
        <div class="banner-questionario">
          <img th:src="@{'/img/banner' + ${resultado.questionario.bannerId} + '.jpg'}" th:alt="${resultado.questionario.titulo}"
            alt="Banner do questionário">
        </div>
        <h3 class="titulo-questionario" th:text="${resultado.questionario.titulo}">Título do Quiz</h3>
        <div class="info-criador">
          <img th:src="@{'/img/usuario' + ${resultado.questionario.criador.fotoId} + '.jpg'}"
            th:alt="${resultado.questionario.criador.nome}" class="foto-criador" alt="Foto do criador">
          <span class="nome-criador" th:text="${resultado.questionario.criador.nome}">Nome do Criador</span>
        </div>
        <div class="nota-badge">
          <i class="ti ti-circle-check"></i>
          <span th:text="'Nota: ' + ${#numbers.formatDecimal(resultado.notaFinal, 1, 1)} + '/' + ${#numbers.formatDecimal(resultado.questionario.obterPontuacaoMaxima(), 1, 1)}">Nota: 0.0/10</span>
        </div>
      </div>

      <!-- Mensagem quando não houver questionários respondidos -->
      <div th:if="${#lists.isEmpty(resultados)}" class="mensagem-vazia">
        <i class="ti ti-circle-check-off"></i>
        <p>Você ainda não respondeu nenhum questionário.</p>
        <p>Explore os questionários disponíveis na página inicial!</p>
      </div>
    </div>
  </main>

  <th:block th:replace="~{fragments/cabecalho :: scripts}"></th:block>
</body>

</html>