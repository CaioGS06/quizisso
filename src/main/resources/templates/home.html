<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Quizisso - Todos os Questionários</title>
  <th:block th:replace="~{fragments/cabecalho :: head}"></th:block>
</head>

<body>
  <th:block th:replace="~{fragments/cabecalho :: cabecalho}"></th:block>

  <main class="conteudo-principal">
    <div class="cabecalho-secao">
      <h2>Todos os Questionários</h2>
    </div>

    <div class="grade-questionarios">
      <!-- 
        Loop através da lista de questionários usando th:each
        Cada item da lista fica disponível na variável "quiz"
      -->
      <div class="card-questionario" th:each="quiz : ${questionarios}"
        th:onclick="'window.location.href=\'/responder-questionario?id=' + ${quiz.id} + '\''">
        <div class="banner-questionario">
          <!-- 
            th:src - Atributo dinâmico do Thymeleaf
            ${quiz.nomeImagem} acessa o método getNomeImagem() do objeto
          -->
          <img th:src="@{'/img/questionario' + ${quiz.bannerId} + '.jpg'}" th:alt="${quiz.titulo}"
            alt="Banner do questionário">
        </div>

        <!-- th:text substitui o conteúdo da tag pelo valor da expressão -->
        <h3 class="titulo-questionario" th:text="${quiz.titulo}">Título do Quiz</h3>

        <div class="info-criador">
          <!-- 
            Acessa propriedades aninhadas: quiz.criador.fotoId
            Isso chama quiz.getCriador().getFotoId()
          -->
          <img th:src="@{'/img/usuario' + ${quiz.criador.fotoId} + '.jpg'}" th:alt="${quiz.criador.nome}"
            class="foto-criador" alt="Foto do criador">
          <span class="nome-criador" th:text="${quiz.criador.nome}">Nome do Criador</span>
        </div>
      </div>
    </div>
  </main>

  <th:block th:replace="~{fragments/cabecalho :: scripts}"></th:block>
</body>

</html>